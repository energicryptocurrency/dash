{
  "name": "energi",
  "version": "1.1.0",
  "vcs": "git",
  "tools": {
    "make": "*",
    "cmake": "*",
    "python": "3"
  },
  "actions": {
    "prepare": [
      "cte cmake -E make_directory ${ENERGI_BUILD_DIR:-builds/$(hostname -s)-release}",
      "cte cmake -E chdir ${ENERGI_BUILD_DIR:-builds/$(hostname -s)-release} $(pwd)/autogen.sh",
      "cte cmake -E chdir ${ENERGI_BUILD_DIR:-builds/$(hostname -s)-release} $(pwd)/configure ${ENERGI_CONFIG_ALL}",
      "cte cmake -E create_symlink ${ENERGI_BUILD_DIR:-builds/$(hostname -s)-release} build"
    ],
    "prepare-release": "ENERGI_BUILD_DIR=${ENERGI_BUILD_DIR:-builds/release} ENERGI_CONFIG_ALL='' cid prepare",
    "prepare-debug": "ENERGI_BUILD_DIR=${ENERGI_BUILD_DIR:-builds/debug} ENERGI_CONFIG_ALL='--enable-debug' cid prepare",
    "prepare-coverage": "ENERGI_BUILD_DIR=${ENERGI_BUILD_DIR:-builds/coverage} ENERGI_CONFIG_ALL='--enable-debug --enable-lcov' LIBS='-lgcov' cid prepare",
    "build": [
      "cte make -C ${ENERGI_BUILD_DIR:-build} -j${MAKEJOBS:-$(nproc)}"
    ],
    "check": [
      "check-make",
      "check-rpc"
    ],
    "check-make": "cte make -C ${ENERGI_BUILD_DIR:-build} check",
    "check-rpc": "cte python qa/pull-tester/rpc-tests.py",
    "energid" : "${ENERGI_BUILD_DIR:-build}/src/energid",
    "energi-cli" : "${ENERGI_BUILD_DIR:-build}/src/energi-cli",
    "energi-qt" : "${ENERGI_BUILD_DIR:-build}/src/qt/energi-qt"
  }
}
